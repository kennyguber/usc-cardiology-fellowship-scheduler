@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;

    --secondary: 250 33% 97%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 160 45% 97%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;

    --radius: 0.5rem;

    --sidebar-background: 0 0% 98%;

    --sidebar-foreground: 240 5.3% 26.1%;

    --sidebar-primary: 240 5.9% 10%;

    --sidebar-primary-foreground: 0 0% 98%;

    --sidebar-accent: 240 4.8% 95.9%;

    --sidebar-accent-foreground: 240 5.9% 10%;

    --sidebar-border: 220 13% 91%;

    --sidebar-ring: 217.2 91.2% 59.8%;

    /* PGY surface background tokens (neutral tints) */
    --pgy4: 220 20% 96%;
    --pgy5: 26 30% 96%;
    --pgy6: 180 20% 96%;

    /* Pastel rotation tokens */
    --rot-lac-cath: 340 85% 92%;
    --rot-lac-cath-foreground: 340 40% 30%;

    --rot-ccu: 210 90% 92%;
    --rot-ccu-foreground: 220 45% 30%;

    --rot-lac-consult: 150 55% 90%;
    --rot-lac-consult-foreground: 150 35% 25%;

    --rot-hf: 270 60% 92%;
    --rot-hf-foreground: 270 35% 28%;

    --rot-keck-consult: 25 95% 90%;
    --rot-keck-consult-foreground: 25 55% 28%;

    --rot-echo1: 50 100% 88%;
    --rot-echo1-foreground: 40 50% 25%;

    --rot-echo2: 35 95% 90%;
    --rot-echo2-foreground: 35 45% 25%;

    --rot-ep: 180 50% 90%;
    --rot-ep-foreground: 180 35% 25%;

    --rot-nuclear: 310 85% 92%;
    --rot-nuclear-foreground: 310 40% 28%;

    --rot-noninvasive: 200 55% 92%;
    --rot-noninvasive-foreground: 200 40% 28%;

    --rot-elective: 220 20% 94%;
    --rot-elective-foreground: 222.2 47.4% 11.2%;

    /* Holiday pastel token */
    --holiday: 345 90% 96%;
    --holiday-foreground: 340 35% 28%;

    /* Fellow badge tokens (15 distinct pastel hues) */
    --fellow-1: 0 75% 92%;
    --fellow-1-foreground: 10 35% 25%;
    --fellow-2: 20 80% 92%;
    --fellow-2-foreground: 20 40% 25%;
    --fellow-3: 35 85% 92%;
    --fellow-3-foreground: 35 40% 25%;
    --fellow-4: 50 85% 90%;
    --fellow-4-foreground: 40 45% 25%;
    --fellow-5: 70 65% 90%;
    --fellow-5-foreground: 70 35% 25%;
    --fellow-6: 90 55% 90%;
    --fellow-6-foreground: 90 35% 25%;
    --fellow-7: 120 55% 90%;
    --fellow-7-foreground: 120 35% 25%;
    --fellow-8: 150 55% 90%;
    --fellow-8-foreground: 150 35% 25%;
    --fellow-9: 170 60% 90%;
    --fellow-9-foreground: 170 35% 25%;
    --fellow-10: 190 65% 92%;
    --fellow-10-foreground: 200 35% 25%;
    --fellow-11: 210 70% 92%;
    --fellow-11-foreground: 220 35% 25%;
    --fellow-12: 230 70% 92%;
    --fellow-12-foreground: 230 35% 25%;
    --fellow-13: 250 70% 92%;
    --fellow-13-foreground: 250 35% 25%;
    --fellow-14: 270 65% 92%;
    --fellow-14-foreground: 270 35% 25%;
    --fellow-15: 300 70% 92%;
    --fellow-15-foreground: 300 35% 25%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;

    /* PGY surface background tokens (neutral tints, dark) */
    --pgy4: 220 15% 16%;
    --pgy5: 26 20% 16%;
    --pgy6: 180 15% 16%;

    /* Pastel rotation tokens (dark mode) */
    --rot-lac-cath: 340 60% 30%;
    --rot-lac-cath-foreground: 210 40% 98%;

    --rot-ccu: 210 70% 28%;
    --rot-ccu-foreground: 210 40% 98%;

    --rot-lac-consult: 150 45% 28%;
    --rot-lac-consult-foreground: 210 40% 98%;

    --rot-hf: 270 45% 30%;
    --rot-hf-foreground: 210 40% 98%;

    --rot-keck-consult: 25 65% 30%;
    --rot-keck-consult-foreground: 210 40% 98%;

    --rot-echo1: 50 70% 32%;
    --rot-echo1-foreground: 210 40% 98%;

    --rot-echo2: 35 65% 30%;
    --rot-echo2-foreground: 210 40% 98%;

    --rot-ep: 180 50% 28%;
    --rot-ep-foreground: 210 40% 98%;

    --rot-nuclear: 310 60% 32%;
    --rot-nuclear-foreground: 210 40% 98%;

    --rot-noninvasive: 200 45% 30%;
    --rot-noninvasive-foreground: 210 40% 98%;

    --rot-elective: 220 15% 22%;
    --rot-elective-foreground: 210 40% 98%;

    /* Holiday pastel token (dark) */
    --holiday: 345 60% 28%;
    --holiday-foreground: 210 40% 98%;

    /* Fellow badge tokens (dark) */
    --fellow-1: 0 60% 28%;
    --fellow-1-foreground: 210 40% 98%;
    --fellow-2: 20 60% 28%;
    --fellow-2-foreground: 210 40% 98%;
    --fellow-3: 35 60% 28%;
    --fellow-3-foreground: 210 40% 98%;
    --fellow-4: 50 60% 28%;
    --fellow-4-foreground: 210 40% 98%;
    --fellow-5: 70 50% 28%;
    --fellow-5-foreground: 210 40% 98%;
    --fellow-6: 90 45% 28%;
    --fellow-6-foreground: 210 40% 98%;
    --fellow-7: 120 45% 28%;
    --fellow-7-foreground: 210 40% 98%;
    --fellow-8: 150 45% 28%;
    --fellow-8-foreground: 210 40% 98%;
    --fellow-9: 170 45% 28%;
    --fellow-9-foreground: 210 40% 98%;
    --fellow-10: 190 55% 28%;
    --fellow-10-foreground: 210 40% 98%;
    --fellow-11: 210 55% 28%;
    --fellow-11-foreground: 210 40% 98%;
    --fellow-12: 230 55% 28%;
    --fellow-12-foreground: 210 40% 98%;
    --fellow-13: 250 55% 28%;
    --fellow-13-foreground: 210 40% 98%;
    --fellow-14: 270 55% 28%;
    --fellow-14-foreground: 210 40% 98%;
    --fellow-15: 300 55% 28%;
    --fellow-15-foreground: 210 40% 98%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  /* Typography */
  .font-display { font-family: 'Playfair Display', serif; }

  /* Link underline animation */
  .story-link { position: relative; display: inline-block; }
  .story-link::after {
    content: "";
    position: absolute; left: 0; bottom: -2px; width: 100%; height: 2px;
    background: hsl(var(--primary));
    transform: scaleX(0); transform-origin: bottom right;
    transition: transform .3s ease;
  }
  .story-link:hover::after { transform: scaleX(1); transform-origin: bottom left; }

  /* Hover scale */
  .hover-scale { transition: transform .2s ease; }
  .hover-scale:hover { transform: scale(1.05); }

  /* Animations */
  @keyframes fade-in { 0%{opacity:0; transform: translateY(10px);} 100%{opacity:1; transform: translateY(0);} }
  @keyframes fade-out { 0%{opacity:1; transform: translateY(0);} 100%{opacity:0; transform: translateY(10px);} }
  @keyframes scale-in { 0%{opacity:0; transform: scale(.95);} 100%{opacity:1; transform: scale(1);} }
  @keyframes scale-out { 0%{opacity:1; transform: scale(1);} 100%{opacity:0; transform: scale(.95);} }
  @keyframes slide-in-right { 0%{transform: translateX(100%);} 100%{transform: translateX(0);} }
  @keyframes slide-out-right { 0%{transform: translateX(0);} 100%{transform: translateX(100%);} }
  @keyframes ecg-scroll { 0%{ background-position: 0 0;} 100%{ background-position: 200px 0;} }

  .animate-fade-in { animation: fade-in .3s ease-out both; }
  .animate-fade-out { animation: fade-out .3s ease-out both; }
  .animate-scale-in { animation: scale-in .2s ease-out both; }
  .animate-scale-out { animation: scale-out .2s ease-out both; }
  .animate-slide-in-right { animation: slide-in-right .3s ease-out both; }
  .animate-slide-out-right { animation: slide-out-right .3s ease-out both; }
  .animate-enter { animation: fade-in .3s ease-out, scale-in .2s ease-out; }
  .animate-exit { animation: fade-out .3s ease-out, scale-out .2s ease-out; }

  /* ECG divider */
  .ecg-divider {
    height: 2px; width: 200px;
    background-image: linear-gradient(90deg,
      hsl(var(--primary)) 0 25%,
      transparent 25% 40%,
      hsl(var(--primary)) 40% 65%,
      transparent 65% 80%,
      hsl(var(--primary)) 80% 100%);
    background-size: 32px 100%;
    border-radius: 9999px;
    opacity: .5;
    animation: ecg-scroll 6s linear infinite;
  }

  /* Static ECG trace (no motion) */
  .ecg-trace-static {
    height: 2px; width: 200px;
    background-image: linear-gradient(90deg,
      hsl(var(--primary)) 0 25%,
      transparent 25% 40%,
      hsl(var(--primary)) 40% 65%,
      transparent 65% 80%,
      hsl(var(--primary)) 80% 100%);
    background-size: 32px 100%;
    border-radius: 9999px;
    opacity: .5;
  }
}